{"version":3,"sources":["webpack:///./fetchCountries.js"],"names":["input","document","querySelector","list","countryContainer","addEventListener","debounce","e","fetchCountries","value","target","fetch","then","response","json","result","console","log","updateUI","countries","length","innerHTML","PNotify","closeAll","country","name","capital","population","languages","flag","map","language","nativeName","lis","alert"],"mappings":"gNAKMA,EAAQC,SAASC,cAAc,aAC/BC,EAAOF,SAASC,cAAc,YAC9BE,EAAmBH,SAASC,cAAc,eAEhDF,EAAMK,iBACJ,QACAC,KAAS,SAAAC,GAAC,OAAIC,EAAeD,KAAI,MAGnC,IAAMC,EAAiB,SAAAD,GAAK,IAClBE,EAAUF,EAAEG,OAAZD,MACHA,GACLE,MAAM,yCAAyCF,GAC5CG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAEJ,OADAC,QAAQC,IAAIF,GACLA,KAERH,MAAK,SAAAG,GAAM,OAAIG,EAASH,OAGvBG,EAAW,SAAAC,GACf,IAAMC,EAASD,EAAUC,OAKzB,GAJAjB,EAAKkB,UAAY,GACjBjB,EAAiBiB,UAAY,GAC7BC,IAAQC,WAEO,IAAXH,EAAc,CAChB,IAAMI,EAAUL,EAAU,GAClBM,EAA+CD,EAA/CC,KAAMC,EAAyCF,EAAzCE,QAASC,EAAgCH,EAAhCG,WAAYC,EAAoBJ,EAApBI,UAAWC,EAASL,EAATK,KAK9CzB,EAAiBiB,UAAjB,gEAEuBI,EAFvB,yGAMoBC,EANpB,kCAOuBC,EAPvB,kCAFEC,EAAUE,KAAI,SAAAC,GAAQ,aAAWA,EAASC,WAApB,WAExB,8FAWsCH,EAXtC,iEAgBF,GAAIT,GAAU,GAAKA,GAAU,GAAI,CAC/B,IAAMa,EAAMd,EAAUW,KAAI,SAAAN,GAAO,aAAWA,EAAQC,KAAnB,WACjCtB,EAAKkB,UAAYY,EAGfb,EAAS,IACXE,IAAQY,MACN,kE","file":"main.4631d85d3e97687fe9be.js","sourcesContent":["'use strict';\r\n\r\nimport debounce from 'lodash.debounce';\r\nimport PNotify from 'pnotify/dist/es/PNotify';\r\n\r\nconst input = document.querySelector('.js-input');\r\nconst list = document.querySelector('.js-list');\r\nconst countryContainer = document.querySelector('.js-country');\r\n\r\ninput.addEventListener(\r\n  'input',\r\n  debounce(e => fetchCountries(e), 500),\r\n);\r\n\r\nconst fetchCountries = e => {\r\n  const { value } = e.target;\r\n  if (!value) return;\r\n  fetch(`https://restcountries.eu/rest/v2/name/${value}`)\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      console.log(result);\r\n      return result;\r\n    })\r\n    .then(result => updateUI(result));\r\n};\r\n\r\nconst updateUI = countries => {\r\n  const length = countries.length;\r\n  list.innerHTML = '';\r\n  countryContainer.innerHTML = '';\r\n  PNotify.closeAll();\r\n\r\n  if (length === 1) {\r\n    const country = countries[0];\r\n    const { name, capital, population, languages, flag } = country;\r\n\r\n    const getLanguages = () =>\r\n      languages.map(language => `<li>${language.nativeName}</li>`);\r\n\r\n    countryContainer.innerHTML = `\r\n      <div class=\"titlecountry\">\r\n        <h1 class=\"name\">${name}</h1>\r\n      </div>\r\n      <div class=\"container\">\r\n        <div class=\"info\">\r\n          <p>Capital: ${capital}</p>\r\n          <p>Population: ${population}</p>\r\n          <ul>Languages: ${getLanguages()}</ul>\r\n        </div>\r\n        <div class=\"flag\">\r\n          <object id=\"svg-object\" data=\"${flag}\" type=\"image/svg+xml\"></object>\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  if (length >= 2 && length <= 10) {\r\n    const lis = countries.map(country => `<li>${country.name}</li>`);\r\n    list.innerHTML = lis;\r\n  }\r\n\r\n  if (length > 10) {\r\n    PNotify.alert(\r\n      'Too many matches found. Please enter a more specific query!',\r\n    );\r\n  }\r\n};\r\n"],"sourceRoot":""}